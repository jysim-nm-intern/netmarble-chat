# 02. 용어 정의 (Glossary)

← [목차로 돌아가기](../sdd-specification.md)

---

본 문서에서 사용하는 도메인 용어를 정의합니다. 코드 작성 시 변수명·클래스명·API 파라미터명은 이 용어를 기준으로 통일합니다.

| 용어 (한국어) | 영문 식별자 | 정의 |
|--------------|-------------|------|
| **사용자** | `User` | 닉네임으로 접속한 채팅 참여자. 별도의 회원가입 없이 닉네임으로 식별된다. |
| **채팅방** | `ChatRoom` | 하나 이상의 사용자가 참여하여 메시지를 주고받는 논리적 공간. |
| **참여자** | `Participant` | 특정 채팅방에 입장한 사용자의 참여 기록. 퇴장 후에도 이력은 보존된다. |
| **활성 참여자** | Active Participant | `left_at`이 NULL인 참여자. 현재 채팅방에 있는 사용자. |
| **메시지** | `Message` | 채팅방 내에서 전송되는 데이터 단위. TEXT / IMAGE / STICKER / SYSTEM 유형이 있다. |
| **시스템 메시지** | System Message | 입장/퇴장 이벤트 시 서버가 자동 생성하는 메시지. 발신자(userId)가 없다. |
| **첨부 파일** | `Attachment` | IMAGE 또는 STICKER 메시지에 연결된 파일 정보 (URL, 파일 타입). |
| **읽음 상태** | `ReadStatus` | 특정 참여자가 채팅방에서 마지막으로 읽은 메시지 위치. |
| **미읽음 카운트** | `unreadCount` | 특정 메시지를 아직 읽지 않은 활성 참여자의 수. |
| **워터마크** | Watermark | 읽음 처리의 기준점이 되는 `last_read_message_id`. 이 ID 이하의 메시지는 모두 읽은 것으로 간주한다. |
| **발행** | Publish | 클라이언트가 STOMP 경로(`/app/...`)로 메시지를 보내는 행위. |
| **구독** | Subscribe | 클라이언트가 STOMP 경로(`/topic/...`)를 등록하여 서버 전송을 기다리는 행위. |
| **브로드캐스트** | Broadcast | 서버가 특정 구독 경로의 모든 구독자에게 메시지를 전파하는 행위. |
| **소프트 삭제** | Soft Delete | DB 레코드를 물리적으로 삭제하지 않고 `is_active=false` 또는 `left_at` 기록으로 논리 삭제하는 방식. |
| **커서 페이지네이션** | Cursor Pagination | 마지막으로 조회한 항목의 ID(cursor)를 기준으로 다음 페이지를 조회하는 방식. offset 방식보다 성능이 우수하다. |

## 메시지 유형 (MessageType)

| 값 | 설명 | 발신자 존재 여부 | 첨부 파일 |
|----|------|----------------|----------|
| `TEXT` | 일반 텍스트 메시지 | O | X |
| `IMAGE` | 이미지 파일 메시지 | O | O (IMAGE) |
| `STICKER` | 스티커 메시지 | O | O (STICKER) |
| `SYSTEM` | 입장/퇴장 시스템 메시지 | X (null) | X |

## 스티커 ID 규칙

```
STK_{순번}          예: STK_01, STK_02    → 기본 이모티콘 팩
STK_CHAR_{순번}     예: STK_CHAR_01       → 캐릭터 스티커 팩
```
