# Phase 1 ì™„ë£Œ ê¸°ì¤€ ë° íšŒê³ 

â† [ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸°](sdd-specification.md)

---

## âœ… Phase 1 ì „ì²´ ê¸°ëŠ¥ ì™„ë£Œ í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

| ì´ìŠˆ | ê¸°ëŠ¥ | ê´€ë ¨ SPEC | êµ¬í˜„ ì™„ë£Œ | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | ì½”ë“œ ë¦¬ë·° |
|------|------|-----------|-----------|-------------|-----------|
| #2 | ìœ ì € ë“±ë¡ ë° ì„¸ì…˜ ê´€ë¦¬ | SPEC-USR-001 | âœ… | âœ… | âœ… |
| #3 | ì±„íŒ…ë°© ìƒì„±/ì¡°íšŒ/ì…ì¥/í‡´ì¥ | SPEC-ROOM-001~004 | âœ… | âœ… | âœ… |
| #4 | STOMP ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì†¡ìˆ˜ì‹  | SPEC-MSG-001~003 | âœ… | âœ… | âœ… |
| #5 | ë©”ì‹œì§€ ì´ë ¥ ì¡°íšŒ ë° ê²€ìƒ‰ | SPEC-MSG-004~005 | âœ… | âœ… | âœ… |
| #6 | ì½ìŒ ì²˜ë¦¬ ì›Œí„°ë§ˆí¬ ê°±ì‹  | SPEC-READ-001 | âœ… | âœ… | âœ… |
| #7 | ë‹¨ìœ„/ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ë³´ | â€” | âœ… | âœ… (130ê°œ) | âœ… |
| #8 | Phase 1 ì™„ë£Œ ê¸°ì¤€ ë° íšŒê³  ì •ë¦¬ | â€” | âœ… | â€” | âœ… |

**ì„œë²„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸:** `Tests run: 130, Failures: 0, Errors: 0`
**í´ë¼ì´ì–¸íŠ¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸:** `21 passed, 0 failed`

---

## ğŸ—ï¸ ë‹¨ê³„ë³„ ì•„í‚¤í…ì²˜ ì§„í™” ê³„íš

### Phase 1 â†’ Phase 2 ì „í™˜ í¬ì¸íŠ¸

| ì˜ì—­ | Phase 1 (í˜„ì¬) | Phase 2 ëª©í‘œ | ì „í™˜ ì´ìœ  |
|------|---------------|--------------|-----------|
| **ë©”ì‹œì§€ ë¸Œë¡œì»¤** | Spring SimpleBroker (ì¸ë©”ëª¨ë¦¬) | Apache Kafka ë˜ëŠ” Redis Pub/Sub | ë‹¤ì¤‘ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ ê°„ ë©”ì‹œì§€ ë™ê¸°í™” ë¶ˆê°€ |
| **ë°ì´í„°ë² ì´ìŠ¤** | MySQL ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ | ì½ê¸° ë³µì œë³¸(Read Replica) ë¶„ë¦¬ | ë©”ì‹œì§€ ì´ë ¥ ì¡°íšŒ ë¶€í•˜ ì§‘ì¤‘ ì‹œ ë³‘ëª© |
| **íŒŒì¼ ì €ì¥ì†Œ** | ë¡œì»¬ íŒŒì¼ì‹œìŠ¤í…œ (`server/uploads/`) | S3 ë˜ëŠ” MinIO | ì„œë²„ ì¬ë°°í¬ ì‹œ ì—…ë¡œë“œ íŒŒì¼ ì†ì‹¤, ë‹¤ì¤‘ ì„œë²„ ê³µìœ  ë¶ˆê°€ |
| **ì¸ì¦/ì¸ê°€** | ì—†ìŒ (ë‹‰ë„¤ì„ë§Œ) | JWT ê¸°ë°˜ í† í° ì¸ì¦ | WebSocket ì—°ê²° ë° API ì¸ê°€ ëˆ„ë½ |
| **WebSocket í™•ì¥** | SimpleBroker (ë‹¨ì¼ ë…¸ë“œ) | STOMP over Redis/Kafka | ìˆ˜í‰ í™•ì¥(Horizontal Scaling) ì§€ì› |
| **ë©”ì‹œì§€ ì „ë‹¬ ë³´ì¥** | Best-effort (WebSocket ë‹¨ì ˆ ì‹œ ìœ ì‹¤) | ì¬ì „ì†¡ í + ACK ë©”ì»¤ë‹ˆì¦˜ | ì˜¤í”„ë¼ì¸ ì‚¬ìš©ì ë©”ì‹œì§€ ëˆ„ë½ ë°©ì§€ |

### Phase 2 ë§ˆì´ê·¸ë ˆì´ì…˜ ìˆœì„œ (ê¶Œê³ )

1. **JWT ì¸ì¦** ë„ì… â†’ WebSocket í•¸ë“œì…°ì´í¬ ì‹œ í† í° ê²€ì¦
2. **Redis Pub/Sub** ë„ì… â†’ SimpleBroker ëŒ€ì²´, ë‹¤ì¤‘ ì¸ìŠ¤í„´ìŠ¤ ì§€ì›
3. **S3 íŒŒì¼ ì—…ë¡œë“œ** â†’ ì²¨ë¶€íŒŒì¼ ì™¸ë¶€ ìŠ¤í† ë¦¬ì§€ ì´ì „
4. **Read Replica** êµ¬ì„± â†’ ë©”ì‹œì§€ ì´ë ¥/ê²€ìƒ‰ ì¿¼ë¦¬ ë¶„ë¦¬

---

## ğŸ”§ ê¸°ìˆ ì  ë¶€ì±„ ëª©ë¡

### ğŸ”´ ë†’ìŒ (Phase 2 ì°©ìˆ˜ ì „ ë°˜ë“œì‹œ í•´ê²°)

| ID | í•­ëª© | ë‚´ìš© | ì˜í–¥ ë²”ìœ„ |
|----|------|------|-----------|
| TD-001 | **ì¸ì¦/ì¸ê°€ ì—†ìŒ** | ë‹‰ë„¤ì„ë§Œìœ¼ë¡œ ì ‘ì† â€” API í˜¸ì¶œ ì‹œ íƒ€ì¸ userId ì„ì˜ ì‚¬ìš© ê°€ëŠ¥ | ë³´ì•ˆ ì „ë°˜ |
| TD-002 | **SimpleBroker ë‹¨ì¼ ë…¸ë“œ ì˜ì¡´** | ë‹¤ì¤‘ ì„œë²„ ë°°í¬ ë¶ˆê°€, ì„œë²„ ì¬ì‹œì‘ ì‹œ êµ¬ë… ì„¸ì…˜ ì „ì²´ ì†Œì‹¤ | í™•ì¥ì„± |
| TD-003 | **ë¡œì»¬ íŒŒì¼ ì €ì¥ì†Œ** | `server/uploads/` ë””ë ‰í„°ë¦¬ â€” ì¬ë°°í¬ ì‹œ íŒŒì¼ ì†ì‹¤ ìœ„í—˜ | ì²¨ë¶€íŒŒì¼ ê¸°ëŠ¥ |

### ğŸŸ¡ ì¤‘ê°„ (Phase 2 ë‚´ ê°œì„ )

| ID | í•­ëª© | ë‚´ìš© | ì˜í–¥ ë²”ìœ„ |
|----|------|------|-----------|
| TD-004 | **ë‹¨ì¼ DB ì½ê¸° ë³‘ëª©** | ë©”ì‹œì§€ ì´ë ¥ ì¡°íšŒì™€ ì‹¤ì‹œê°„ ì“°ê¸°ê°€ ë™ì¼ DB ì‚¬ìš© | ì„±ëŠ¥ |
| TD-005 | **STOMP ë©”ì‹œì§€ ì „ë‹¬ ë³´ì¥ ì—†ìŒ** | WebSocket ì—°ê²° ëŠê¹€ ì‹œ ë°œí–‰ ë©”ì‹œì§€ ìœ ì‹¤ | ì‹ ë¢°ì„± |
| TD-006 | **ChatController ë¶„ë¦¬ í•„ìš”** | ChatControllerê°€ ë©”ì‹œì§€/ì±„íŒ…ë°©/ì½ìŒ ì²˜ë¦¬ í˜¼í•© â€” SRP ìœ„ë°˜ | ìœ ì§€ë³´ìˆ˜ì„± |
| TD-007 | **E2E í…ŒìŠ¤íŠ¸ ë¯¸ì™„ì„±** | Playwright í…ŒìŠ¤íŠ¸ ìŠ¤ìºí´ë”©ë§Œ ì¡´ì¬, ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤ ë¯¸êµ¬í˜„ | í’ˆì§ˆ |

### ğŸŸ¢ ë‚®ìŒ (ì—¬ìœ  ì‹œ ê°œì„ )

| ID | í•­ëª© | ë‚´ìš© | ì˜í–¥ ë²”ìœ„ |
|----|------|------|-----------|
| TD-008 | **ìŠ¤í‹°ì»¤ SVG íŒŒì¼ ê³ ì •** | 5ê°œ í•˜ë“œì½”ë”© â€” ë™ì  ìŠ¤í‹°ì»¤ íŒ© ì¶”ê°€ ë¶ˆê°€ | ê¸°ëŠ¥ í™•ì¥ì„± |
| TD-009 | **CORS ì„¤ì • `*` í—ˆìš©** | ê°œë°œ í¸ì˜ìƒ ì „ì²´ í—ˆìš© â€” í”„ë¡œë•ì…˜ ë°°í¬ ì „ ë„ë©”ì¸ ì œí•œ í•„ìš” | ë³´ì•ˆ |
| TD-010 | **ë©”ì‹œì§€ ì´ë ¥ ì†Œí”„íŠ¸ ë”œë¦¬íŠ¸ ì—†ìŒ** | ì‚­ì œëœ ì±„íŒ…ë°©ë„ ë©”ì‹œì§€ ë¬¼ë¦¬ ë³´ì¡´ â€” ì •ì±… ê²°ì • í•„ìš” | ë°ì´í„° ê´€ë¦¬ |

---

## ğŸ“ˆ Phase 1 ë¶€í•˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½

> ìƒì„¸ ê²°ê³¼: [`docs/load-test-report.md`](../load-test-report.md)

| ì‹œë‚˜ë¦¬ì˜¤ | ë™ì‹œ ì‚¬ìš©ì | p95 ì‘ë‹µì‹œê°„ | ì—ëŸ¬ìœ¨ | ê²°ê³¼ |
|----------|------------|-------------|--------|------|
| REST API (ì±„íŒ…ë°© ëª©ë¡/ì…ì¥) | 50 VU | < 200ms | 0% | âœ… í†µê³¼ |
| WebSocket STOMP ë©”ì‹œì§€ | 30 VU | < 300ms | 0% | âœ… í†µê³¼ |
| ë‹¨ì¼ ë°© ìŠ¤íŠ¸ë ˆìŠ¤ | 100 VU | < 500ms | < 1% | âœ… í†µê³¼ |
| ë‹¤ì¤‘ ë°© (8ê°œ) ìŠ¤íŠ¸ë ˆìŠ¤ | 80 VU | < 500ms | < 1% | âœ… í†µê³¼ |

---

## ğŸ“ Phase 1 íšŒê³ 

### ì˜ ëœ ì 
- Hybrid Communication Protocol(REST + STOMP) ì—­í•  ë¶„ë¦¬ë¥¼ ì´ˆê¸°ë¶€í„° ëª…í™•íˆ ì ìš©í•˜ì—¬ êµ¬ì¡°ì  í˜¼ì„  ì—†ìŒ
- DDD ê³„ì¸µ ê²©ë¦¬ ì¼ê´€ ì ìš© â€” Controllerê°€ Repositoryë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ëŠ” ì¼€ì´ìŠ¤ ì—†ìŒ
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 130ê°œ ì „ì²´ Green ìœ ì§€
- ë¶€í•˜ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ì „ ì‘ì„±ìœ¼ë¡œ ì„±ëŠ¥ ê¸°ì¤€ì„  í™•ë³´

### ê°œì„ ì´ í•„ìš”í•œ ì 
- E2E í…ŒìŠ¤íŠ¸ Playwright ì‹œë‚˜ë¦¬ì˜¤ ì‹¤ì œ êµ¬í˜„ ë¯¸ì™„ (ìŠ¤ìºí´ë”©ë§Œ ì¡´ì¬)
- ì¸ì¦/ì¸ê°€ ì—†ì´ ê°œë°œí•˜ì—¬ ë³´ì•ˆ ê²€í†  ë²”ìœ„ ì œí•œì 
- ChatController ë‹¨ì¼ í´ë˜ìŠ¤ì— ê¸°ëŠ¥ í˜¼ì¬ â†’ Phase 2ì—ì„œ ë¶„ë¦¬ í•„ìš”
